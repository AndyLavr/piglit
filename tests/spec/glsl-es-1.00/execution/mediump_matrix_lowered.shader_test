# Tests that a matrix mult operation in mediump is performed using
# lowered precision. Note that doing the operation in a higher
# precision is valid according to the spec so this test canâ€™t be used
# in production. It is only for development.

[require]
GL ES >= 2.0
GLSL ES >= 1.00

[vertex shader passthrough]

[fragment shader]
#version 100
precision mediump float;

uniform vec2 a;
uniform mat2 b;

void main()
{
    vec2 result = b * a;
    gl_FragColor.rg = result;
    gl_FragColor.ba = fract(result * 1024.0);
}

[test]

uniform vec2 a 0.5 0.33333333333333
uniform mat2 b 1.0 0.0 0.0 1.0

draw rect -1 -1 2 2
probe all rgba 0.5 0.333 0.0 0.25
