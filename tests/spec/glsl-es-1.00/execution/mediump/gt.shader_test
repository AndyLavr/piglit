[require]
GL ES >= 3.1
GLSL ES >= 3.10

[vertex shader]
#version 310 es

precision highp float;

layout(location = 0) in vec4 pos;
layout(location = 0) out vec2 thing;

void
main()
{
	gl_Position = pos;
	thing = pos.xy;
}

[fragment shader]
#version 310 es

precision mediump float;

layout(location = 0) in vec2 thing;
layout(location = 0) out vec4 out_colour;

void
main()
{
	out_colour.x = float(thing[0] > thing[1]);
	if (thing[0] <= thing[1])
		out_colour.y = 1.0;
	else
		out_colour.y = 0.0;
	out_colour.zw = vec2(0.0);
}

[test]
clear
draw rect -1 -1 2 2
relative probe rect rgb (0, 0.5, 0.5, 0.5) (0.0, 1.0, 0.0)
relative probe rect rgb (0.5, 0.0, 0.5, 0.5) (1.0, 0.0, 0.0)
